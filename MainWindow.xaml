<Window x:Class="Bloc3_Caviste.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:Bloc3_Caviste"
        Title="Rouge Passion - Caviste" Height="700" Width="1200">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Navigation -->
        <Grid Grid.Column="0" Background="{DynamicResource FondPrincipal}" Width="150">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <ListBox Grid.Row="1"
                     ItemsSource="{Binding MainMenuItems}"
                     DisplayMemberPath="Title"
                     SelectedItem="{Binding SelectedMenuItem, Mode=TwoWay}"
                     Margin="0,8"
                     BorderThickness="0"
                     Background="Transparent">
                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem" BasedOn="{StaticResource MaterialDesign3.NavigationRailListBoxItem}">
                        <Setter Property="Padding" Value="0"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="materialDesign:NavigationRailAssist.IconSize" Value="28" />
                        <Setter Property="materialDesign:NavigationRailAssist.IsTextVisible" Value="True" />
                        <Setter Property="materialDesign:NavigationRailAssist.SelectedIcon" Value="{Binding SelectedIcon}" />
                        <Setter Property="materialDesign:NavigationRailAssist.UnselectedIcon" Value="{Binding UnselectedIcon}" />
                        <Setter Property="Background" Value="{DynamicResource Accent}" />
                        <Setter Property="FontFamily" Value="{DynamicResource Inter}"/>
                        <Setter Property="FontWeight" Value="DemiBold"/>
                        <Setter Property="FontSize" Value="10"/>
                        <Setter Property="Foreground" Value="{DynamicResource Primaire}"/>
                        <Style.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Foreground" Value="{DynamicResource BoutonPress}"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </ListBox.ItemContainerStyle>
            </ListBox>
        </Grid>

        <!-- Zone dynamique des pages: utiliser un Frame pour héberger les Page afin d'éviter l'exception -->
        <Frame Grid.Column="1"
               Content="{Binding CurrentPage}"
               NavigationUIVisibility="Hidden"
               Background="{DynamicResource FondPrincipal}" />
    </Grid>
</Window>
